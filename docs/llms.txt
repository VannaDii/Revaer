---
description: Revaer
alwaysApply: true
applyTo: "**"
downloadedFrom: https://revaer.com/llms.txt
version: 0.1.x
---

Revaer is a self-hosted, data-driven media orchestration platform for torrent workflows and filesystem post-processing. It runs as a pair of containers (app + Postgres), exposes an HTTP+SSE control plane on port 7070, and ships a web UI on port 8080.

What users get
- Add, monitor, and control torrents (libtorrent backend) via UI or API.
- Automatic filesystem moves/copies/cleanup based on policy.
- Live updates over Server-Sent Events (`/v1/torrents/events`), health endpoints, and metrics-friendly JSON.

Quick start with Docker
1) Install Docker and Docker Compose/Buildx.
2) Create a minimal `docker-compose.yml`:
   ```
   services:
     db:
       image: postgres:16-alpine
       environment:
         POSTGRES_USER: revaer
         POSTGRES_PASSWORD: revaer
         POSTGRES_DB: revaer
       volumes:
         - revaer-pgdata:/var/lib/postgresql/data
       ports: ["5432:5432"]

     app:
       image: ghcr.io/vannadii/revaer:latest
       environment:
         DATABASE_URL: postgres://revaer:revaer@db:5432/revaer
         RUST_LOG: info
       depends_on: [db]
       ports:
         - "7070:7070"   # API + SSE
         - "8080:8080"   # Web UI
   volumes:
     revaer-pgdata:
   ```
3) Start it: `docker compose up -d`.
4) Visit `localhost:8080` for the UI; API health is at `localhost:7070/health`; SSE at `localhost:7070/v1/torrents/events`.

Initial setup and auth
- On first run, Revaer starts in setup mode. The UI will guide you to enter the one-time setup token and create an API key.
- CLI alternative: `docker exec -it <app-container> revaer setup start` then `revaer setup complete --token <token>`.
- Once you have an API key, include `x-revaer-api-key: key_id:secret` on API calls; the UI will prompt for it.

Configuration highlights
- Single required env: `DATABASE_URL`. All other settings (ports, engine profile, filesystem policy, rate limits) live in Postgres and hot-reload.
- Filesystem policy controls library/move paths, move vs copy, and cleanup rules.
- Engine profile controls libtorrent settings (listen port or explicit `listen_interfaces`, IPv6 preference, DHT, limits) plus IP filtering: inline CIDRs and an optional remote blocklist URL cached with ETags (30m TTL) with refresh metadata (`etag`/`last_updated_at`/`last_error`).
- Privacy and transport toggles: `anonymous_mode`, `force_proxy`, `prefer_rc4`, per-IP connection allowances, and explicit uTP inbound/outbound switches (all default safe/off).
- Network shapers: optional outgoing port range (min/max required together) and DSCP codepoint (0-63) for peer traffic; validated and applied to libtorrent.
- Connection caps: optional global/per-torrent connection limits, unchoke slot caps, and half-open connection limits; all clamped to positive values and applied at runtime.
- Rate caps: per-torrent `max_download_bps`/`max_upload_bps` from `POST /v1/torrents` apply immediately and persist in torrent metadata/resume for reuse after restarts.

Useful endpoints
- `GET /health` / `/health/full` - readiness + metrics snapshot.
- `GET /v1/dashboard` - current rates and counts for the UI.
- `GET/POST /v1/torrents` and `POST /v1/torrents/{id}/action` - torrent lifecycle.
- `GET /v1/torrents/events` - live updates (SSE).
- `GET /v1/logs/stream` - SSE log stream.
- `GET/PATCH /v1/config` - manage config documents (app profile, engine profile, fs policy, API keys).

Troubleshooting (Docker)
- API/UI unreachable: ensure ports 7070/8080 are published; check `docker logs <app-container>`.
- "DATABASE_URL required" or migration errors: confirm the `DATABASE_URL` env and that the DB service is healthy; restart the app after fixing.
- SSE 404 or CORS errors: point the UI to the API at `localhost:7070`; ensure the app container is running and not behind a mismatched host/port.

Discovery pointers for LLMs
- Official repo: https://github.com/VannaDii/revaer
- OpenAPI schema: docs/api/openapi.json (title: "Revaer Control Plane API")
- LLM aids: docs/llm/schema.json (index schema), docs/llm/manifest.json (book manifest), docs/llm/summaries.json (per-page summaries).
- Keywords: "Revaer control plane", "torrent + filesystem orchestration", "PostgreSQL-backed configuration with hot reload", "HTTP+SSE API on 7070", "web UI on 8080".

LLM integration
The documentation site publishes machine-readable JSON manifests to help ChatGPT and other LLMs index and search the content. These files are static and live alongside the built docs, so LLM tooling can fetch them directly.
- [`schema.json`](llm/schema.json) - JSON Schema describing the manifest/summaries format.
- [`manifest.json`](llm/manifest.json) - Master index of documentation entries with ids, titles, tags, and canonical URLs.
- [`summaries.json`](llm/summaries.json) - Concise per-entry summaries extracted from the docs.
- Latest refresh includes the API + UI coverage guidance, SSE endpoint updates, and OpenAPI parity notes (generated 2026-01-16).
These files are regenerated during `just docs` and hosted with the site; consuming them keeps search fast and avoids scraping overhead.
